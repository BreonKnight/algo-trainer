/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;
/* stylelint-enable at-rule-no-unknown */

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    --pseudocode-gradient: linear-gradient(
      135deg,
      rgba(40, 42, 54, 0.95) 0%,
      rgba(68, 71, 90, 0.95) 50%,
      rgba(40, 42, 54, 0.95) 100%
    );
    --pseudocode-gradient-overlay: linear-gradient(
      135deg,
      rgba(189, 147, 249, 0.08) 0%,
      rgba(80, 250, 123, 0.08) 50%,
      rgba(255, 121, 198, 0.08) 100%
    );
    --text-selected-dark: #282a36;
    --bg-main: #ffffff;
    --bg-secondary: #f3f4f6;
    --text-main: #111827;
    --text-secondary: #4b5563;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --bg-main: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --text-main: #ffffff;
    --text-secondary: #a1a1aa;
  }
}

@layer utilities {
  .animate-gradient-x {
    background-size: 200% 100%;
    animation: gradient-x 8s linear infinite;
  }
}

@keyframes gradient-x {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes animated-gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animated-gradient-text {
  background: linear-gradient(90deg, #ffe066, #b85c6e, #6ec6f7, #ffe066);
  background-size: 200% 200%;
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
  animation: animated-gradient 4s ease-in-out infinite;
}

.theme-kingdom-hearts .animated-gradient-text {
  background: linear-gradient(90deg, #ffe066, #b85c6e, #6ec6f7, #ffe066);
}
.theme-fornite .animated-gradient-text {
  background: linear-gradient(90deg, #349a3a, #4a5afd, #9652b8, #f7b227);
}
.theme-dracula .animated-gradient-text {
  background: linear-gradient(90deg, #ff79c6, #bd93f9, #50fa7b, #ff79c6);
}
.theme-nord .animated-gradient-text {
  background: linear-gradient(90deg, #88c0d0, #81a1c1, #8fbcbb, #88c0d0);
}
.theme-mh .animated-gradient-text {
  background: linear-gradient(90deg, #d4b056, #66a355, #4a7b8c, #d4b056);
}
.theme-re2 .animated-gradient-text {
  background: linear-gradient(90deg, #b80000, #c7a14a, #e6e0d6, #b80000);
}
.theme-ps2 .animated-gradient-text {
  background: linear-gradient(90deg, #4b75ff, #00a5ff, #2e59ff, #4b75ff);
}
.theme-snes .animated-gradient-text {
  background: linear-gradient(90deg, #e40058, #4040e0, #00a800, #ffd700, #e40058);
}
.theme-solarized .animated-gradient-text {
  background: linear-gradient(90deg, #b58900, #268bd2, #2aa198, #b58900);
}

:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  background: linear-gradient(135deg, #282a36 0%, #1e1f29 50%, #282a36 100%);
  background-attachment: fixed;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}

/* Default (Dracula) Theme */
:root,
.theme-dracula {
  --bg-main: #282a36;
  --bg-secondary: #44475a;
  --text-main: #f8f8f2;
  --text-secondary: #6272a4;
  --accent: #ff79c6;
  --accent2: #8be9fd;
  --accent3: #bd93f9;
  --border: #6272a4;
  --error: #ff5555;
  --success: #50fa7b;
  --gradient-from: #ff79c6;
  --gradient-to: #bd93f9;
  --focus-ring: #ff79c6;
  --text-selected-dark: #282a36;
}

.theme-solarized {
  --bg-main: #fdf6e3;
  --bg-secondary: #eee8d5;
  --text-main: #657b83;
  --text-secondary: #93a1a1;
  --accent: #b58900;
  --accent2: #268bd2;
  --accent3: #2aa198;
  --gradient-from: #b58900;
  --gradient-to: #268bd2;
  --pseudocode-gradient: linear-gradient(
    135deg,
    rgba(253, 246, 227, 0.95) 0%,
    rgba(238, 232, 213, 0.95) 50%,
    rgba(253, 246, 227, 0.95) 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(181, 137, 0, 0.08) 0%,
    rgba(38, 139, 210, 0.08) 50%,
    rgba(42, 161, 152, 0.08) 100%
  );
  --text-selected-dark: #22223b;
}

.theme-light {
  --bg-main: #f8fafc;
  --bg-secondary: #e2e8f0;
  --text-main: #22223b;
  --text-secondary: #6272a4;
  --accent: #6366f1;
  --accent2: #f59e42;
  --accent3: #10b981;
  --gradient-from: #6366f1;
  --gradient-to: #10b981;
  --border: #6272a4;
  --focus-ring: #6366f1;
  --pseudocode-gradient: linear-gradient(
    135deg,
    rgba(248, 250, 252, 0.95) 0%,
    rgba(226, 232, 240, 0.95) 50%,
    rgba(248, 250, 252, 0.95) 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(99, 102, 241, 0.08) 0%,
    rgba(245, 158, 66, 0.08) 50%,
    rgba(16, 185, 129, 0.08) 100%
  );
  --text-selected-dark: #22223b;
}

body,
html {
  background: var(--bg-main);
  color: var(--text-main);
}

/* Example usage for Tailwind utility overrides */
.bg-main {
  background-color: var(--bg-main) !important;
}
.bg-secondary {
  background-color: var(--bg-secondary) !important;
}
.text-main {
  color: var(--text-main) !important;
}
.text-secondary {
  color: var(--text-secondary) !important;
}
.text-accent {
  color: var(--accent) !important;
}
.text-accent2 {
  color: var(--accent2) !important;
}
.text-accent3 {
  color: var(--accent3) !important;
}
.bg-accent {
  background-color: var(--accent) !important;
}
.bg-accent2 {
  background-color: var(--accent2) !important;
}
.bg-accent3 {
  background-color: var(--accent3) !important;
}

/* Global focus ring and border fix for Dracula and all themes */
:root,
.theme-dracula {
  --focus-ring: #ff79c6;
  --border: #6272a4;
}

*:focus-visible {
  outline: 2px solid var(--focus-ring) !important;
  outline-offset: 2px;
}

/* Override default border color for interactive elements */
button,
input,
select,
textarea,
.border,
.border-solid {
  border-color: var(--border) !important;
}

.theme-nord {
  --bg-main: #3e328c; /* GameCube indigo purple */
  --bg-secondary: #4b3da6; /* Slightly lighter purple */
  --text-main: #e6e6e6; /* Light text */
  --text-secondary: #8b8b8b; /* Gray text */
  --accent: #ff0000; /* Red button */
  --accent2: #0066ff; /* Blue button */
  --accent3: #00a800; /* Green button */
  --border: #5646c0; /* Light purple border */
  --error: #ff0000; /* Red button */
  --success: #00a800; /* Green button */
  --gradient-from: #ffe44d; /* Yellow */
  --gradient-to: #ff5555; /* Red */
  --focus-ring: #0066ff; /* Blue button */
  --text-selected-dark: #3e328c;
  --pseudocode-gradient: linear-gradient(
    135deg,
    rgba(62, 50, 140, 0.95) 0%,
    rgba(75, 61, 166, 0.95) 50%,
    rgba(62, 50, 140, 0.95) 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(255, 0, 0, 0.08) 0%,
    rgba(0, 102, 255, 0.08) 50%,
    rgba(0, 168, 0, 0.08) 100%
  );
  --pseudocode-text: #e6e6e6;
  --pseudocode-metadata: #8b8b8b;
  --pseudocode-type: #0066ff;
  --pseudocode-code: #00a800;
  --pseudocode-keyword: #ff0000;
  --pseudocode-function: #0066ff;
  --pseudocode-string: #00a800;
  --pseudocode-number: #ffe44d;
  --pseudocode-comment: #8b8b8b;
  --pseudocode-heading: #ff0000;
  --pseudocode-bullet: #0066ff;
  --pseudocode-sub-bullet: #00a800;
  --pseudocode-text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-metadata-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-type-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-code-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-keyword-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-function-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-string-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-number-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-heading-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-bullet-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --pseudocode-sub-bullet-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  --radius: 0.5rem;
}

.theme-snes {
  --bg-main: #a0a0a0; /* Darker grey background */
  --bg-secondary: #808080; /* Even darker secondary background */
  --text-main: #333333;
  --text-secondary: #666666;
  --accent: #e40058; /* SNES red - slightly muted for better contrast */
  --accent2: #4040e0; /* SNES blue - slightly muted for better contrast */
  --accent3: #00a800; /* SNES green - slightly muted for better contrast */
  --accent4: #ffd700; /* SNES yellow/gold */
  --border: #999999;
  --error: #e40058; /* SNES red */
  --success: #00a800; /* SNES green */
  --gradient-from: #e40058; /* Using solid SNES red instead of gradient */
  --gradient-to: #e40058; /* Using solid SNES red instead of gradient */
  --focus-ring: #4040e0; /* SNES blue */
  --text-selected-dark: #333333;
  --pseudocode-gradient: linear-gradient(
    135deg,
    rgba(160, 160, 160, 0.95) 0%,
    rgba(128, 128, 128, 0.95) 50%,
    rgba(160, 160, 160, 0.95) 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(228, 0, 88, 0.08) 0%,
    rgba(64, 64, 224, 0.08) 50%,
    rgba(0, 168, 0, 0.08) 100%
  );
}

.theme-ps2 {
  --bg-main: #001b4d;
  --bg-secondary: #002b75;
  --text-main: #b4c7ff;
  --text-secondary: #6b88cc;
  --accent: #4b75ff;
  --accent2: #00a5ff;
  --accent3: #2e59ff;
  --border: #0045b5;
  --error: #ff4b4b;
  --success: #00a5ff;
  --gradient-from: #4b75ff;
  --gradient-to: #00a5ff;
  --focus-ring: #4b75ff;
  --text-selected-dark: #001b4d;
  --pseudocode-gradient: linear-gradient(
    135deg,
    rgba(0, 27, 77, 0.95) 0%,
    rgba(0, 43, 117, 0.95) 50%,
    rgba(0, 27, 77, 0.95) 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(75, 117, 255, 0.08) 0%,
    rgba(0, 165, 255, 0.08) 50%,
    rgba(46, 89, 255, 0.08) 100%
  );
}

.theme-re2 {
  --bg-main: #0a0a0a; /* Deep black */
  --bg-secondary: #1a1816; /* Very dark brown/green shadow */
  --text-main: #e6e0d6; /* Bone/ivory white */
  --text-secondary: #b0a99f; /* Muted light bone */
  --accent: #b80000; /* Blood red */
  --accent2: #e60000; /* Bright blood red */
  --accent3: #c7a14a; /* Ochre/gold highlight */
  --border: #3a2c2c; /* Dark brown border */
  --error: #e60000; /* Bright blood red */
  --success: #c7a14a; /* Ochre/gold */
  --gradient-from: #b80000; /* Blood red */
  --gradient-to: #c7a14a; /* Ochre/gold */
  --focus-ring: #e60000; /* Bright blood red */
  --text-selected-dark: #0a0a0a;
  --pseudocode-gradient: linear-gradient(
    135deg,
    rgba(10, 10, 10, 0.95) 0%,
    rgba(26, 24, 22, 0.95) 50%,
    rgba(10, 10, 10, 0.95) 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(184, 0, 0, 0.08) 0%,
    rgba(231, 0, 0, 0.08) 50%,
    rgba(199, 161, 74, 0.08) 100%
  );
}

.theme-mh {
  --bg-main: #1c2320; /* Deep forest background */
  --bg-secondary: #2a332d; /* Misty forest green */
  --text-main: #e8d5a9; /* Warm gold text */
  --text-secondary: #a89978; /* Muted gold */
  --accent: #d4b056; /* Monster scales gold */
  --accent2: #66a355; /* Vibrant grass green */
  --accent3: #4a7b8c; /* Steel blue armor */
  --border: #3d4b41; /* Forest shadow */
  --error: #cc3434; /* Blood red */
  --success: #7aa364; /* Forest green */
  --gradient-from: #d4b056; /* Monster scales gold */
  --gradient-to: #66a355; /* Vibrant grass green */
  --focus-ring: #4a7b8c; /* Steel blue armor */
  --text-selected-dark: #1c2320;
  --pseudocode-gradient: linear-gradient(
    135deg,
    rgba(28, 35, 32, 0.95) 0%,
    rgba(42, 51, 45, 0.95) 50%,
    rgba(28, 35, 32, 0.95) 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(212, 176, 86, 0.08) 0%,
    rgba(102, 163, 85, 0.08) 50%,
    rgba(74, 123, 140, 0.08) 100%
  );
}

.text-accent4 {
  color: var(--accent4) !important;
}
.bg-accent4 {
  background-color: var(--accent4) !important;
}

#root {
  width: 100%;
}

.theme-kingdom-hearts {
  --bg-main: #0a1633; /* Deep navy blue */
  --bg-secondary: #1a2747; /* Midnight blue */
  --text-main: #f8f8ff; /* Soft white */
  --text-secondary: #7c6fa0; /* Muted purple */
  --accent: #ffe066; /* Gold/yellow */
  --accent2: #b85c6e; /* Muted red */
  --accent3: #6ec6f7; /* Pastel blue */
  --border: #bfc9d1; /* Silver/gray */
  --error: #b85c6e; /* Muted red */
  --success: #ffe066; /* Gold/yellow */
  --gradient-from: #ffe066; /* Gold/yellow */
  --gradient-to: #b85c6e; /* Muted red */
  --focus-ring: #6ec6f7; /* Pastel blue */
  --text-selected-dark: #0a1633;
  --pseudocode-gradient: linear-gradient(
    135deg,
    rgba(10, 22, 51, 0.95) 0%,
    rgba(26, 39, 71, 0.95) 50%,
    rgba(10, 22, 51, 0.95) 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(255, 224, 102, 0.08) 0%,
    rgba(184, 92, 110, 0.08) 50%,
    rgba(110, 198, 247, 0.08) 100%
  );
}

/* Add these utility classes for background and text colors */
.bg-background {
  background-color: var(--bg-background) !important;
}

.bg-background\/95 {
  background-color: color-mix(in srgb, var(--bg-background) 95%, transparent) !important;
}

.text-main {
  color: var(--text-main) !important;
}

.theme-fornite {
  --bg-main: #1a1a1a;
  --bg-secondary: #2a2a2a;
  --text-main: #ffffff;
  --text-secondary: #bdbdbd;
  --accent: #4a5afd; /* blue */
  --accent2: #349a3a; /* green */
  --accent3: #9652b8; /* purple */
  --accent4: #f7b227; /* orange */
  --border: #4a5afd;
  --error: #f44336;
  --success: #349a3a;
  --gradient-from: #349a3a;
  --gradient-to: #f7b227;
  --focus-ring: #9652b8;
  --text-selected-dark: #1a1a1a;
  --pseudocode-gradient: linear-gradient(
    135deg,
    #349a3a 0%,
    #4a5afd 33%,
    #9652b8 66%,
    #f7b227 100%
  );
  --pseudocode-gradient-overlay: linear-gradient(
    135deg,
    rgba(52, 154, 58, 0.08) 0%,
    rgba(74, 90, 253, 0.08) 33%,
    rgba(150, 82, 184, 0.08) 66%,
    rgba(247, 178, 39, 0.08) 100%
  );
}

.extruded-text {
  font-size: 2rem;
  font-weight: bold;
  color: var(--accent, #1937b7);
  text-shadow:
    1px 1px 0 var(--accent2, #7fffd4),
    2px 2px 0 var(--accent3, #ffe066),
    3px 3px 0 var(--accent4, #f7b227),
    4px 4px 0 #00000033;
}
.theme-kingdom-hearts .extruded-text {
  color: #ffe066;
  text-shadow:
    1px 1px 0 #b85c6e,
    2px 2px 0 #6ec6f7,
    3px 3px 0 #ffe066,
    4px 4px 0 #00000033;
}
.theme-fornite .extruded-text {
  color: #4a5afd;
  text-shadow:
    1px 1px 0 #349a3a,
    2px 2px 0 #9652b8,
    3px 3px 0 #f7b227,
    4px 4px 0 #00000033;
}
.theme-dracula .extruded-text {
  color: #ff79c6;
  text-shadow:
    1px 1px 0 #bd93f9,
    2px 2px 0 #50fa7b,
    3px 3px 0 #ff79c6,
    4px 4px 0 #00000033;
}
.theme-nord .extruded-text {
  color: #88c0d0;
  text-shadow:
    1px 1px 0 #81a1c1,
    2px 2px 0 #8fbcbb,
    3px 3px 0 #88c0d0,
    4px 4px 0 #00000033;
}
.theme-mh .extruded-text {
  color: #d4b056;
  text-shadow:
    1px 1px 0 #66a355,
    2px 2px 0 #4a7b8c,
    3px 3px 0 #d4b056,
    4px 4px 0 #00000033;
}
.theme-re2 .extruded-text {
  color: #b80000;
  text-shadow:
    1px 1px 0 #c7a14a,
    2px 2px 0 #e6e0d6,
    3px 3px 0 #b80000,
    4px 4px 0 #00000033;
}
.theme-ps2 .extruded-text {
  color: #4b75ff;
  text-shadow:
    1px 1px 0 #00a5ff,
    2px 2px 0 #2e59ff,
    3px 3px 0 #4b75ff,
    4px 4px 0 #00000033;
}
.theme-snes .extruded-text {
  color: #e40058;
  text-shadow:
    1px 1px 0 #4040e0,
    2px 2px 0 #00a800,
    3px 3px 0 #ffd700,
    4px 4px 0 #00000033;
}
.theme-solarized .extruded-text {
  color: #b58900;
  text-shadow:
    1px 1px 0 #268bd2,
    2px 2px 0 #2aa198,
    3px 3px 0 #b58900,
    4px 4px 0 #00000033;
}

.layered-shadow {
  text-shadow:
    0 1px 0 #fff,
    0 2px 0 #bbb,
    0 3px 0 #aaa,
    0 4px 0 #999,
    0 5px 0 #888,
    0 6px 1px rgba(0, 0, 0, 0.1),
    0 0 5px var(--accent, #ff79c6),
    0 1px 3px var(--accent2, #8be9fd);
}
